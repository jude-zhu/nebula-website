---
title: "ä½¿ç”¨å›¾æ•°æ®åº“ Nebula Graph æ•°æ®å¯¼å…¥å¿«é€Ÿä½“éªŒçŸ¥è¯†å›¾è°± OwnThink"
date: 2019-11-26
---

# ä½¿ç”¨å›¾æ•°æ®åº“ Nebula Graph æ•°æ®å¯¼å…¥å¿«é€Ÿä½“éªŒçŸ¥è¯†å›¾è°± OwnThink

![](https://oscimg.oschina.net/oscnet/12275fb4d51dcb68575a20d3213c92b16a3.png)

## å‰è¨€

æœ¬æ–‡ç”± Nebula Graph å®ä¹ ç”Ÿ@ç‹æ°è´¡çŒ®ã€‚

æœ€è¿‘ [@Yener](https://my.oschina.net/yener) å¼€æºäº†å²ä¸Šæœ€å¤§è§„æ¨¡çš„ä¸­æ–‡çŸ¥è¯†å›¾è°±â€”â€”[OwnThink](https://www.ownthink.com/)ï¼ˆé“¾æ¥ï¼š[https://github.com/ownthink/KnowledgeGraphData](https://github.com/ownthink/KnowledgeGraphData) ï¼‰ï¼Œæ•°æ®é‡ä¸º 1.4 äº¿æ¡ã€‚

æœ¬æ–‡ä»‹ç»å¦‚ä½•å°†è¿™ä»½æ•°æ®å¿«é€Ÿå¯¼å…¥å›¾æ•°æ®åº“ Nebula Graphï¼Œå…¨è¿‡ç¨‹å¤§çº¦éœ€è¦ 30 åˆ†é’Ÿã€‚

## ä¸­æ–‡çŸ¥è¯†å›¾è°± OwnThink ç®€ä»‹

### æ€çŸ¥ï¼ˆOwnThinkï¼‰

çŸ¥è¯†å›¾è°±æ˜¯ç”± Google åœ¨ 2012 å¹´æå‡ºæ¥çš„ä¸€ä¸ªæ¦‚å¿µã€‚ä¸»è¦æ˜¯ç”¨æ¥**æè¿°çœŸå®ä¸–ç•Œä¸­å­˜åœ¨çš„å„ç§å®ä½“å’Œæ¦‚å¿µï¼Œä»¥åŠä»–ä»¬ä¹‹é—´çš„å…³ç³»**ã€‚åœ¨æœç´¢å¼•æ“ã€é—®ç­”æœºå™¨äººã€çŸ¥è¯†æŠ½å–ç­‰å¤šä¸ªé¢†åŸŸæœ‰ç€è¯¸å¤šåº”ç”¨ã€‚

æœ€è¿‘Â Yener å¼€æºäº†å²ä¸Šæœ€å¤§è§„æ¨¡çš„ä¸­æ–‡çŸ¥è¯†å›¾è°±â€”â€”Â [OwnThink](https://www.ownthink.com/)ï¼ˆé“¾æ¥ï¼š[https://github.com/ownthink/KnowledgeGraphData](https://github.com/ownthink/KnowledgeGraphData)ï¼‰ï¼Œæ•°æ®é‡ä¸º 1.4 äº¿æ¡ã€‚æ•°æ®ä»¥ `(å®ä½“, å±æ€§, å€¼)`Â å’Œ `(å®ä½“, å…³ç³», å®ä½“)`Â æ··åˆçš„**ä¸‰å…ƒç»„**å½¢å¼å­˜å‚¨ï¼Œæ•°æ®æ ¼å¼ä¸º csvã€‚

å¯ä»¥ç‚¹å‡»è¿™é‡Œä¸‹è½½ï¼š[https://nebula-graph.oss-accelerate.aliyuncs.com/ownthink/kg_v2.tar.gz](https://nebula-graph.oss-accelerate.aliyuncs.com/ownthink/kg_v2.tar.gz)

### æŸ¥çœ‹åŸå§‹æ–‡ä»¶

ç”±äº ownthink_v2.csv æ•°æ®è¿‡å¤šï¼Œæ‘˜å½•éƒ¨åˆ†æ•°æ®ä¸ºä¾‹ï¼š

```
çº¢è‰²é£Ÿå“,æè¿°,çº¢è‰²é£Ÿå“æ˜¯æŒ‡é£Ÿå“ä¸ºçº¢è‰²ã€æ©™çº¢è‰²æˆ–æ£•çº¢è‰²çš„é£Ÿå“ã€‚

çº¢è‰²é£Ÿå“,æ˜¯å¦å«é˜²è…å‰‚,å¦
çº¢è‰²é£Ÿå“,ä¸»è¦é£Ÿç”¨åŠŸæ•ˆ,é¢„é˜²æ„Ÿå†’ï¼Œç¼“è§£ç–²åŠ³
çº¢è‰²é£Ÿå“,ç”¨é€”,å¢å¼ºè¡¨çš®ç»†èƒå†ç”Ÿå’Œé˜²æ­¢çš®è‚¤è¡°è€
å¤§é¾™æ¹«,æè¿°,é›è¡å±±æ™¯åŒºåˆ†æ•£ï¼Œä¸œèµ·ç¾Šè§’æ´ï¼Œè¥¿è‡³é”¯æ¿å²­ï¼›å—èµ·ç­‹ç«¹æºªï¼ŒåŒ—è‡³å…­åªå±±ã€‚
å¤§é¾™æ¹«,ä¸­æ–‡åç§°,å¤§é¾™æ¹«
å¤§é¾™æ¹«,å¤–æ–‡åç§°,big dragon autrum
å¤§é¾™æ¹«,é—¨ç¥¨ä»·æ ¼,50å…ƒ
å¤§é¾™æ¹«,è‘—åæ™¯ç‚¹,èŠ™è“‰å³°
å§šæ˜[ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿],å¦»å­,å¶è‰
```

è¿™é‡Œçš„ `(çº¢è‰²é£Ÿå“,æ˜¯å¦å«é˜²è…å‰‚,å¦)`Â å°±æ˜¯å…¸å‹çš„Â `(å®ä½“, å±æ€§, å€¼)`Â å½¢å¼çš„ä¸‰å…ƒç»„æ•°æ®; è€Œ `(å§šæ˜[ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿],å¦»å­,å¶è‰)`Â æ˜¯å…¸å‹çš„Â `(å®ä½“, å…³ç³», å®ä½“)`Â å½¢å¼çš„ä¸‰å…ƒç»„æ•°æ®ã€‚

## Step 1. æ•°æ®å»ºæ¨¡ä¸æ¸…æ´—å‡†å¤‡

### å»ºæ¨¡

Nebula Graph æ˜¯ä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼å›¾æ•°æ®åº“ï¼ˆé“¾æ¥ï¼š[https://github.com/vesoft-inc/nebula](https://github.com/vesoft-inc/nebula)ï¼‰ï¼Œç›¸æ¯” Neo4j æ¥è¯´ï¼Œå®ƒçš„ä¸»è¦ç‰¹ç‚¹æ˜¯å®Œå…¨çš„åˆ†å¸ƒå¼ï¼Œå› æ­¤**å›¾æ•°æ®åº“ Nebula Graph é€‚åˆå¤„ç†æ•°æ®é‡è¶…è¿‡å•æœºçš„åœºæ™¯**ã€‚

![GitHub ä¸»é¡µ](https://user-images.githubusercontent.com/56643819/69341543-b9d2ef00-0ca4-11ea-8615-bb9d0e33c74a.png)

å›¾æ•°æ®åº“**é€šå¸¸æ”¯æŒçš„æ•°æ®æ¨¡å‹ä¸ºæœ‰å‘å±æ€§å›¾ï¼ˆdirected property graphï¼‰**ã€‚å›¾ä¸­çš„æ¯ä¸ªé¡¶ç‚¹ï¼ˆvertexï¼‰å¯ä»¥ç”¨æ ‡ç­¾ï¼ˆtagï¼‰æ¥è¡¨ç¤ºç±»å‹ï¼ˆNeo4j å«åš Labelï¼‰ï¼Œé¡¶ç‚¹å’Œé¡¶ç‚¹ä¹‹é—´çš„å…³ç³»ç”¨è¾¹ï¼ˆedgeï¼‰è¿æ¥èµ·æ¥ã€‚æ¯ç§ tag å’Œ edge è¿˜å¯ä»¥å¸¦æœ‰å±æ€§ã€‚â€”â€”ç„¶è€Œï¼Œè¿™äº›åŠŸèƒ½å¯¹äºçŸ¥è¯†å›¾è°±çš„ä¸‰å…ƒç»„æ•°æ®æ²¡ä»€ä¹ˆæ„ä¹‰:

![image](https://user-images.githubusercontent.com/56643819/69324280-263cf680-0c83-11ea-8195-3facde5c0bcd.png)

åˆ†æä¸Šå›¾çš„ä¸‰å…ƒç»„æ•°æ®ï¼Œå‘ç°æ— è®ºæ˜¯ `(å®ä½“, å±æ€§, å€¼)`Â å½¢å¼çš„ä¸‰å…ƒç»„æ•°æ®ï¼Œè¿˜æ˜¯ `(å®ä½“, å…³ç³», å®ä½“)`Â å½¢å¼çš„ä¸‰å…ƒç»„æ•°æ®ï¼Œæ¯æ¡ä¸‰å…ƒç»„æ•°æ®å‡å¯ä»¥å»ºæ¨¡æˆ**ä¸¤ä¸ªç‚¹**å’Œ**ä¸€æ¡è¾¹**çš„å½¢å¼ã€‚å‰è€…ä¸‰å…ƒç»„ä¸­çš„â€œ**å®ä½“**â€å’Œâ€œ**å€¼**â€å»ºæ¨¡ä¸º**ä¸¤ä¸ªç‚¹**ï¼ˆèµ·ç‚¹ã€ç»ˆç‚¹ï¼‰ï¼Œâ€œ**å±æ€§**â€å»ºæ¨¡ä¸º**ä¸€æ¡è¾¹**ï¼Œåè€…ä¸‰å…ƒç»„ä¸­çš„ä¸¤ä¸ªâ€œ**å®ä½“**â€ä¹Ÿå»ºæ¨¡ä¸º**ä¸¤ä¸ªç‚¹**ï¼ˆèµ·ç‚¹ã€ç»ˆç‚¹ï¼‰ï¼Œâ€œ**å…³ç³»**â€å»ºæ¨¡ä¸º**ä¸€æ¡è¾¹**.

è€Œä¸”ï¼Œæ‰€æœ‰çš„ç‚¹éƒ½æ˜¯ç›¸åŒç±»å‹ï¼ˆå–åå«`entity` ï¼‰ï¼Œåªéœ€è¦ä¸€ä¸ªå±æ€§ï¼ˆå« `name`Â )ï¼Œæ‰€æœ‰çš„è¾¹ä¹Ÿéƒ½æ˜¯åŒä¸€ç±»å‹(å–åå« `relation` ï¼‰ï¼Œè¾¹ä¸Šä¹Ÿåªæœ‰ä¸€ä¸ªå±æ€§ï¼ˆå« `name` ï¼‰ã€‚

![image](https://user-images.githubusercontent.com/56643819/69324336-3bb22080-0c83-11ea-9672-a0eb3a355f97.png)

æ¯”å¦‚ `(å¤§é¾™æ¹«,è‘—åæ™¯ç‚¹,èŠ™è“‰å³°)`Â å¯ä»¥è¡¨ç¤ºæˆä¸‹å›¾è¿™ä¸ªæ ·å­ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324347-3f45a780-0c83-11ea-94bb-a1dd0df6ebef.png)

### æ•°æ®æ¸…æ´—å’Œé¢„å¤„ç†

æŒ‰ç…§å‰ä¸€èŠ‚çš„åˆ†æï¼ŒåŸå§‹çš„æ¯æ¡**ä¸‰å…ƒç»„æ•°æ®**ï¼Œè¿˜éœ€è¦æ¸…æ´—**è½¬æ¢ä¸ºä¸¤ä¸ªç‚¹å’Œä¸€æ¡è¾¹**æ‰èƒ½å˜æˆå±æ€§å›¾çš„æ¨¡å‹ã€‚

#### ä¸‹è½½æ¸…æ´—å·¥å…·

æœ¬æ–‡æµ‹è¯•çš„æ—¶å€™ï¼Œä½¿ç”¨çš„æ“ä½œç³»ç»Ÿæ˜¯ CentOS 7.5ï¼Œå·¥å…·ç”± Golang è¯­è¨€ç¼–å†™è€Œæˆã€‚

ä½ å¯ä»¥åœ¨è¿™é‡Œ (é“¾æ¥ï¼š[https://github.com/jievince/rdf-converter](https://github.com/jievince/rdf-converter))Â ä¸‹è½½è¿™ä¸ªç®€å•çš„æ¸…æ´—å·¥å…·æºä»£ç å¹¶ç¼–è¯‘ä½¿ç”¨ã€‚

è¯¥å·¥å…·ä¼šæŠŠè½¬æ¢åçš„é¡¶ç‚¹çš„æ•°æ®å†™å…¥åˆ° vertex.csv æ–‡ä»¶ã€è¾¹æ•°æ®å†™å…¥åˆ° edge.csv æ–‡ä»¶ã€‚

è¯´æ˜ï¼šåœ¨æµ‹è¯•è¿‡ç¨‹ä¸­ï¼Œå‘ç°æœ‰å¤§é‡çš„é‡å¤ç‚¹æ•°æ®ï¼Œæ‰€ä»¥å·¥å…·é‡Œé¢ä¹Ÿåšäº†å»é‡ã€‚å®Œå…¨å»é‡åçš„ç‚¹çš„æ•°æ®å¤§æ¦‚æ˜¯ 4600 ä¸‡æ¡ï¼Œå®Œå…¨å»é‡åçš„è¾¹çš„æ•°æ®å¤§æ¦‚æ˜¯ 1 äº¿ 4000 ä¸‡æ¡ã€‚

æ¸…æ´—å®Œçš„ `vertex.csv` æ–‡ä»¶é•¿è¿™æ ·ï¼š
```
-2469395383949115281,è¿‡åº¦åŒ…è£…
-5567206714840433083,Over  Package
3836323934884101628,æœ‰çš„å•†å“æ•…æ„å¢åŠ åŒ…è£…å±‚æ•°
1185893106173039861,å¾ˆå¤šé‡‡ç”¨å®æœ¨ã€é‡‘å±åˆ¶å“
3455734391170888430,éç§‘å­¦
9183164258636124946,æ•™è‚²
5258679239570815125,æˆç†Ÿå¸‚åœº
-8062106589304861485,"æˆç†Ÿå¸‚åœºæ˜¯æŒ‡ä½å¢é•¿ç‡,é«˜å æœ‰ç‡çš„å¸‚åœºã€‚"
```

è¯´æ˜ï¼šæ¯ä¸€è¡Œæ˜¯ä¸€ä¸ªé¡¶ç‚¹ï¼Œç¬¬ä¸€åˆ—æ•´å‹ `-2469395383949115281`Â æ˜¯é¡¶ç‚¹çš„ IDï¼ˆå«åšÂ `VID`ï¼‰ï¼Œå®ƒæ˜¯ç”±ç¬¬äºŒåˆ—æ–‡å­—é€šè¿‡ `hash` è®¡ç®—å‡ºæ¥çš„ï¼Œä¾‹å¦‚Â `-2469395383949115281` å°±æ˜¯ç”± `std::hash("è¿‡åº¦åŒ…è£…")` è®¡ç®—å‡ºæ¥çš„å€¼ã€‚

æ¸…æ´—å®Œçš„ `edge.csv` æ–‡ä»¶:

```
3413383836870836248,-948987595135324087,å«ä¹‰
3413383836870836248,8037179844375033188,å®šä¹‰
3413383836870836248,-2559124418148243756,æ ‡ç­¾
3413383836870836248,8108596883039039864,æ ‡ç­¾
2587975790775251569,-4666568475926279810,æè¿°
2587975790775251569,2587975790775251569,ä¸­æ–‡åç§°
2587975790775251569,3771551033890875715,å¤–æ–‡åç§°
2587975790775251569,2900555761857775043,åœ°ç†ä½ç½®
2587975790775251569,-1913521037799946160,å åœ°é¢ç§¯
2587975790775251569,-1374607753051283066,å¼€æ”¾æ—¶é—´
```

è¯´æ˜ï¼šç¬¬ä¸€åˆ—æ˜¯èµ·ç‚¹çš„ VIDï¼Œç¬¬äºŒåˆ—æ˜¯ç»ˆç‚¹çš„ VIDï¼Œç¬¬ä¸‰åˆ—æ˜¯è¿™æ¡è¾¹çš„"**å±æ€§**"æˆ–è€…"**æè¿°**"ã€‚

åœ¨æœ¬æœºå®Œå…¨å»é‡çš„æ¸…æ´—ç¨‹åºè¿è¡Œæ—¶é—´å¤§çº¦æ˜¯ 6 åˆ†é’Ÿã€‚

## Step 2. Nebula Graph å¯åŠ¨å‡†å¤‡

### ä¸‹è½½å’Œå®‰è£…

ç™»é™† GitHub åï¼Œåœ¨è¿™é‡Œ (é“¾æ¥ï¼š[https://github.com/vesoft-inc/nebula/actions](https://github.com/vesoft-inc/nebula/actions))Â æ‰¾åˆ° Nebula çš„å®‰è£…åŒ…ã€‚

![action](https://user-images.githubusercontent.com/56643819/69341796-3239b000-0ca5-11ea-8050-30d4d85c4e4d.png)

æ‰¾åˆ°ä½ æ‰€ç”¨ç³»ç»Ÿå¯¹åº”çš„ä¸‹è½½é“¾æ¥ï¼š

![package](https://user-images.githubusercontent.com/56643819/69344341-32887a00-0caa-11ea-9065-b4a4ec6154ba.png)

ç¬”è€…ç³»ç»Ÿæ˜¯ CentOS 7.5ï¼Œä¸‹è½½ CentOS 7.5 æœ€æ–°çš„å‹ç¼©åŒ…ï¼Œè§£å‹åèƒ½æ‰¾åˆ° rpm å®‰è£…åŒ… `nebula-5ace754.el7-5.x86_64.rpm`ï¼Œæ³¨æ„ `5ace754` æ˜¯ git commit å·ï¼Œä½¿ç”¨æ—¶å¯èƒ½ä¼šæœ‰æ‰€ä¸åŒã€‚ä¸‹è½½å¥½åè§£å‹ï¼Œè¾“å…¥ä¸‹é¢å‘½ä»¤è¿›è¡Œå®‰è£…ï¼Œè®°å¾—æ›¿æ¢æˆæ–°çš„ git commitï¼š

```
$ rpm -ivh nebula-5ace754.el7-5.x86_64.rpm
```

### å¯åŠ¨ Nebula Graph æœåŠ¡

åœ¨ `å‘½ä»¤è¡Œ CLI`Â è¾“å…¥ä¸‹é¢å‘½ä»¤å¯åŠ¨æœåŠ¡

```
$ /usr/local/nebula/scripts/nebula.service start all
```

å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324527-99df0380-0c83-11ea-9887-148143c18641.png)

å¯ä»¥æ‰§è¡Œä»¥ä¸‹å‘½ä»¤æ£€æŸ¥æœåŠ¡æ˜¯å¦æˆåŠŸå¯åŠ¨

```
$ /usr/local/nebula/scripts/nebula.service status all
```

å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324588-b24f1e00-0c83-11ea-9f58-30f205bce272.png)

### è¿æ¥ Nebula Graph æœåŠ¡

è¾“å…¥ä¸‹é¢å‘½ä»¤è¿æ¥ Nebula Graphï¼š

```
$ /usr/local/nebula/bin/nebula -u user -p password
```

å‘½ä»¤æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324631-c72bb180-0c83-11ea-9c32-ac349f9e3c9f.png)

### å‡†å¤‡ schema ç­‰å…ƒæ•°æ®

Nebula Graph çš„ä½¿ç”¨é£æ ¼æœ‰ç‚¹æ¥è¿‘ MySQLï¼Œéœ€è¦å…ˆå‡†å¤‡å„ç§å…ƒä¿¡æ¯ã€‚

#### æ–°å»ºå›¾ç©ºé—´ space

create space çš„æ¦‚å¿µæ¥è¿‘ MySQL é‡Œé¢ create databaseã€‚åœ¨ nebula console é‡Œé¢è¾“å…¥ä¸‹é¢è¿™ä¸ªå‘½ä»¤ã€‚

```
nebula> CREATE SPACE test;
```

#### è¿›å…¥ test space

```
nebula> USE test;
```

#### åˆ›å»ºç‚¹ç±»å‹ï¼ˆentityï¼‰

```
nebula> CREATE TAG entity(name string);
```

#### åˆ›å»ºè¾¹ç±»å‹ (relation)

```
nebula> CREATE EDGE relation(name string);
```

æœ€åç®€å•ç¡®è®¤ä¸‹å…ƒæ•°æ®æ˜¯ä¸æ˜¯æ­£ç¡®ã€‚

**æŸ¥çœ‹ entity æ ‡ç­¾çš„å±æ€§**ï¼š

```
nebula> DESCRIBE TAG entity;
```

ç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324705-e591ad00-0c83-11ea-9d5c-4172b146b762.png)

**æŸ¥çœ‹ relation è¾¹ç±»å‹çš„å±æ€§**ï¼š

```
nebula> DESCRIBE EDGE relation;
```

ç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324702-e4f91680-0c83-11ea-80f8-293680b4a630.png)

## Step 3.Â ä½¿ç”¨ nebula-importer å¯¼å…¥æ•°æ®

ç™»é™† GitHub è¿›å…¥Â [https://github.com/vesoft-inc/nebula-importer](https://github.com/vesoft-inc/nebula-importer)Â ï¼Œnebula-importer è¿™ä¸ªå·¥å…·ä¹Ÿæ˜¯ Golang è¯­è¨€å†™çš„ï¼Œåœ¨è¿™é‡Œä¸‹è½½å¹¶ç¼–è¯‘æºä»£ç ã€‚

![importer](https://user-images.githubusercontent.com/56643819/69342573-cb1cfb00-0ca6-11ea-8761-b5acbdcec5ae.png)

å¦å¤–ï¼Œå‡†å¤‡ä¸€ä¸ª YAML é…ç½®æ–‡ä»¶ï¼Œå‘Šè¯‰è¿™ä¸ª importer å·¥å…·å»å“ªé‡Œæ‰¾ csv æ–‡ä»¶ã€‚ï¼ˆå¯ç›´æ¥å¤åˆ¶ä¸‹é¢è¿™æ®µï¼‰

```yaml
version: v1rc1
description: example
clientSettings:
  concurrency: 10 # number of graph clients
  channelBufferSize: 128
  space: test
  connection:
    user: user
    password: password
    address: 127.0.0.1:3699
logPath: ./err/test.log
files:
  - path: ./vertex.csv
    failDataPath: ./err/vertex.csv
    batchSize: 100
    type: csv
    csv:
      withHeader: false
      withLabel: false
    schema:
      type: vertex
      vertex:
        tags:
          - name: entity
            props:
              - name: name
                type: string
  - path: ./edge.csv
    failDataPath: ./err/edge.csv
    batchSize: 100
    type: csv
    csv:
      withHeader: false
      withLabel: false
    schema:
      type: edge
      edge:
        name: relation
        withRanking: false
        props:
          - name: name
            type: string
```

è¯´æ˜ï¼šæµ‹è¯•æ—¶å€™å‘ç° csv æ•°æ®æ–‡ä»¶ä¸­æœ‰å¤§é‡è½¬ä¹‰å­—ç¬¦ (\\) å’Œæ¢è¡Œå­—ç¬¦ (\\r)ï¼Œnebula-importer ä¹Ÿåšäº†å¤„ç†ã€‚

æœ€åï¼šå¼€å§‹å¯¼å…¥æ•°æ® ğŸ‘ğŸ‘

```
go run importer.go --config ./config.yaml
```

æ‰§è¡Œè¿‡ç¨‹å¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324800-15d94b80-0c84-11ea-9d0e-6e1428c2de84.png)

å¯ä»¥çœ‹åˆ°, æœ¬æ¬¡å¯¼å…¥ QPS å¤§çº¦åœ¨ 40 w/sã€‚å…¨éƒ¨å¯¼å…¥æ€»è€—æ—¶å¤§çº¦ 15 minã€‚

## Step 4. éšä¾¿è¯»ç‚¹ä»€ä¹ˆè¯•è¯•

å¯¼å…¥å®Œæ¯•åï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ Nebula Graph æœåŠ¡åšä¸€äº›ç®€å•çš„æŸ¥è¯¢ã€‚å›åˆ° Nebula Graph çš„`å‘½ä»¤è¡Œ CLI`Â ï¼š

```
$ /usr/local/nebula/bin/nebula -u user -p password
```

è¿›å…¥åˆšæ‰å¯¼å…¥çš„ä¸‰å…ƒç»„æ•°æ®çš„ test ç©ºé—´ï¼š

```
nebula> USE test;
```

ç°åœ¨ï¼Œæˆ‘ä»¬å¯ä»¥åšä¸€äº›ç®€å•æŸ¥è¯¢

- ä¾‹ 1ï¼šä¸å§šæ˜æœ‰ç›´æ¥å…³è”çš„è¾¹çš„ç±»å‹å’Œç‚¹çš„å±æ€§

```
(user@127.0.0.1) [test]> GO FROM hash("å§šæ˜[ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿]") OVER relation  YIELD relation.name AS Name, $$.entity.name AS Value;
```

æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![å‘½ä»¤0](https://user-images.githubusercontent.com/56643819/69926042-c4d01f80-14ed-11ea-9b27-3011118e774e.png)

å¯ä»¥çœ‹åˆ°ï¼šæœ¬æ¬¡æŸ¥è¯¢è¿”å› 51 æ¡æ•°æ®ï¼Œè€—æ—¶ 3 ms å·¦å³ï¼›

- ä¾‹2ï¼šæŸ¥è¯¢å§šæ˜å’Œå…¶å¦»å­å¶è‰åœ¨ä¸‰è·³ä¹‹å†…çš„æ‰€æœ‰è·¯å¾„

```
(user@127.0.0.1) [test]> FIND ALL PATH FROM hash("å§šæ˜[ä¸­å›½ç¯®çƒåä¼šä¸»å¸­ã€ä¸­èŒè”å…¬å¸è‘£äº‹é•¿]")  TO hash("å¶è‰") OVER relation UPTO 3 STEPS; 
```

æ‰§è¡Œç»“æœå¦‚ä¸‹ï¼š

![image](https://user-images.githubusercontent.com/56643819/69324938-520cac00-0c84-11ea-97e5-956f8c739f89.png)

å½“æ•°æ®é‡è¾ƒå¤§æ—¶ï¼ŒæŸ¥æ‰¾å…¨è·¯å¾„/æœ€çŸ­ç»ä¹‹ç±»çš„æ“ä½œä¼šæ¯”è¾ƒè€—æ—¶ã€‚å¯ä»¥çœ‹åˆ°ï¼šæœ¬æ¬¡æŸ¥è¯¢è¿”å› 8 æ¡æ•°æ®ï¼Œè¯´æ˜å§šæ˜å’Œå…¶å¦»å­å¶è‰åœ¨ä¸‰è·³ä¹‹å†…å…±æœ‰ 8 æ¡ç›´æ¥æˆ–é—´æ¥çš„å…³ç³»ã€‚

## æ€»ç»“

æœ¬ç¯‡æ–‡ç« æ¶‰åŠåˆ°çš„ä¸€äº›æ¦‚å¿µå’Œé“¾æ¥ï¼š

- OwnThink çš„ä¸­æ–‡çŸ¥è¯†å›¾è°±æ•°æ®ï¼š[https://github.com/ownthink/KnowledgeGraphData](https://github.com/ownthink/KnowledgeGraphData)ã€‚å®ƒçš„æ•°æ®ä»¥ä¸‰å…ƒç»„å½¢å¼ä¿å­˜ä¸º csv
- Nebula Graph æ˜¯ä¸€ä¸ªå¼€æºçš„å›¾æ•°æ®åº“ï¼ŒGitHub åœ°å€ï¼š[https://github.com/vesoft-inc/nebula](https://github.com/vesoft-inc/nebula)ï¼Œå’Œ Neo4j ç›¸æ¯”ï¼Œå®ƒæ˜¯åˆ†å¸ƒå¼çš„
- æ•°æ®æ¸…æ´—å·¥å…·ï¼ŒGitHub åœ°å€ï¼š[https://github.com/jievince/rdf-converter](https://github.com/jievince/rdf-converter)ã€‚å› ä¸ºåŸå§‹çš„å›¾è°± ownthink_v2.csv æ•°æ®ä»¥ä¸‰å…ƒç»„å½¢å¼ä¿å­˜ï¼Œå¹¶å’Œä¸€èˆ¬å›¾æ•°æ®åº“çš„å±æ€§å›¾æ¨¡å‹ç•¥å¾®æœ‰äº›ä¸åŒï¼Œæ‰€ä»¥å†™äº†ä¸€ä¸ª Go è¯­è¨€å·¥å…·å°†åŸå§‹Â ownthink_v2.csvÂ å˜æˆ vertex.csv å’Œ edge.csv
- æ•°æ®å¯¼å…¥å·¥å…·ï¼ŒGitHub åœ°å€ï¼š[https://github.com/vesoft-inc/nebula-importer](https://github.com/vesoft-inc/nebula-importer)ã€‚å°†æ¸…æ´—å®Œçš„Â vertex.csv å’Œ edge.csv æ‰¹é‡å†™å…¥åˆ° Nebula Graphã€‚

### åé¢çš„å·¥ä½œ

- è°ƒæ•´ Nebula çš„å‚æ•°ã€‚ä¼¼ä¹é»˜è®¤çš„æ—¥å¿—çº§åˆ«å’Œå†…å­˜éƒ½ä¸æ˜¯å¾ˆå¥½ï¼Œå¯ä»¥ç”¨ä¸‹é¢è¿™ä¸ªå‘½ä»¤å…³é—­æ—¥å¿—ï¼Œè¿™æ ·å¯¼å…¥æ€§èƒ½å¯ä»¥å¥½å¾ˆå¤šã€‚

```
curl "http://127.0.0.1:12000/set_flags?flag=minloglevel&value=4"
```

- å†™ä¸ªå¯¹åº”çš„ Python ç‰ˆæœ¬ç¤ºä¾‹

æœ‰é—®é¢˜è¯·å¾®ä¿¡æ·»åŠ å¥½å‹  NebulaGraphbot

### é™„å½•

Nebula  Graph GitHub åœ°å€ï¼š[https://github.com/vesoft-inc/nebula](https://github.com/vesoft-inc/nebula)Â Â ï¼ŒåŠ å…¥ Nebula Graph äº¤æµç¾¤ï¼Œè¯·è”ç³» Nebula Graph å®˜æ–¹å°åŠ©æ‰‹å¾®ä¿¡å·ï¼šNebulaGraphbot

> Nebula Graphï¼šä¸€ä¸ªå¼€æºçš„åˆ†å¸ƒå¼å›¾æ•°æ®åº“ã€‚


> GitHubï¼š[https://github.com/vesoft-inc/nebula](https://github.com/vesoft-inc/nebula)


> çŸ¥ä¹ï¼š[https://www.zhihu.com/org/nebulagraph/posts](https://www.zhihu.com/org/nebulagraph/posts)


> å¾®åšï¼š[https://weibo.com/nebulagraph](https://weibo.com/nebulagraph)
